{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular component for a game canvas, handling score and lives changes along with the game over event.", "external_files": ["../../services/game-engine.service"], "external_methods": ["GameEngineService.attachCanvas", "GameEngineService.start", "GameEngineService.stop"], "published": ["scoreChange", "livesChange"], "classes": [{"name": "GameCanvasComponent", "description": "An Angular component that manages the game canvas, reacts to game events, and emits score and lives changes."}], "methods": [{"name": "ngAfterViewInit", "description": "Lifecycle hook that is called after the component's view has been fully initialized. It sets up event listeners and starts the game."}, {"name": "ngOnDestroy", "description": "Lifecycle hook that is called just before Angular destroys the component. It cleans up event listeners and stops the game."}], "calls": ["this.engine.attachCanvas", "g.document.addEventListener", "this.engine.start", "g.document.removeEventListener", "this.engine.stop"], "search-terms": ["GameCanvasComponent", "game-canvas", "scoreChange", "livesChange"], "state": 2, "file_id": 24, "knowledge_revision": 95, "git_revision": "", "revision_history": [{"56": ""}, {"69": ""}, {"80": ""}, {"89": ""}, {"95": ""}], "ctags": [{"_type": "tag", "name": "GameCanvasComponent", "path": "/tmp/kavia/workspace/code-generation/circus-challenge-6895-6904/angular_frontend/src/app/components/game-canvas/game-canvas.component.ts", "pattern": "/^export class GameCanvasComponent implements AfterViewInit, OnDestroy {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "canvas", "path": "/tmp/kavia/workspace/code-generation/circus-challenge-6895-6904/angular_frontend/src/app/components/game-canvas/game-canvas.component.ts", "pattern": "/^    const canvas: any = this.canvasRef.nativeElement;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ce", "path": "/tmp/kavia/workspace/code-generation/circus-challenge-6895-6904/angular_frontend/src/app/components/game-canvas/game-canvas.component.ts", "pattern": "/^      const ce = e as { detail?: { score?: number } };$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "evt", "path": "/tmp/kavia/workspace/code-generation/circus-challenge-6895-6904/angular_frontend/src/app/components/game-canvas/game-canvas.component.ts", "pattern": "/^            const evt = new g.CustomEvent('ui:saveScore', { detail: { score, initials } });$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "g", "path": "/tmp/kavia/workspace/code-generation/circus-challenge-6895-6904/angular_frontend/src/app/components/game-canvas/game-canvas.component.ts", "pattern": "/^      const g: any = typeof globalThis !== 'undefined' ? (globalThis as any) : undefined;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "g", "path": "/tmp/kavia/workspace/code-generation/circus-challenge-6895-6904/angular_frontend/src/app/components/game-canvas/game-canvas.component.ts", "pattern": "/^    const g: any = typeof globalThis !== 'undefined' ? (globalThis as any) : undefined;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "initials", "path": "/tmp/kavia/workspace/code-generation/circus-challenge-6895-6904/angular_frontend/src/app/components/game-canvas/game-canvas.component.ts", "pattern": "/^          let initials = 'YOU';$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "score", "path": "/tmp/kavia/workspace/code-generation/circus-challenge-6895-6904/angular_frontend/src/app/components/game-canvas/game-canvas.component.ts", "pattern": "/^      const score = ce?.detail?.score ?? 0;$/", "language": "TypeScript", "kind": "constant"}], "hash": "14e8ff27a51e828a6f7db30ede2d73d6", "format-version": 4, "code-base-name": "angular_frontend", "filename": "angular_frontend/src/app/components/game-canvas/game-canvas.component.ts", "fields": [{"name": "let initials = 'YOU';", "scope": "", "scopeKind": "", "description": "unavailable"}]}